(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(11),s=a.n(i),r=a(23),o=(a(78),a(125)),d=(a(79),a(38)),l=(a(80),a(103),a(104),a(82),d.a.initializeApp({apiKey:"AIzaSyBjxZXELl_aktC6weqDquKy4pL4gqx0pyg",authDomain:"whatsapp-8c71c.firebaseapp.com",projectId:"whatsapp-8c71c",storageBucket:"whatsapp-8c71c.appspot.com",messagingSenderId:"480472585334",appId:"1:480472585334:web:ada888870a03389e61bb57"})),u=l.firestore(),j=l.auth(),h=new d.a.auth.GoogleAuthProvider,m=d.a.storage().ref("images"),b=d.a.storage().ref("audios"),p=d.a.firestore.FieldValue.serverTimestamp,O=(d.a.database.ServerValue.TIMESTAMP,a(3));function f(){return Object(O.jsx)("div",{className:"app",children:Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsx)("img",{src:"./login-logo.png",alt:"Logo"}),Object(O.jsx)("div",{className:"login__text",children:Object(O.jsx)("h1",{children:"Sign in to WhatsApp"})}),Object(O.jsx)(o.a,{onClick:function(){j.signInWithRedirect(h)},children:"Sign in with Google"})]})})})}var v=a(16),x=a.n(v),g=a(37),_=a(29),w=a(8),N=a(150),y=a(131),C=a(132),k=a(129),R=a(133),I=a(134),S=a(135),U=a(136),L=a(128),E=a(130),M=a(33);function D(e){var t=e.item;return Object(O.jsx)(M.b,{className:"link",to:"/room/".concat(t.id),children:Object(O.jsxs)("div",{className:"sidebar__chat",children:[Object(O.jsx)("div",{className:"avatar__container",children:Object(O.jsx)(N.a,{style:{width:45,height:45},src:t.photoURL||"https://avatars.dicebear.com/api/human/".concat(t.id,".svg")})}),Object(O.jsx)("div",{className:"sidebar__chat--info",children:Object(O.jsx)("h2",{children:t.name})})]})})}a(94);function A(e){var t=e.title,a=e.data;return a?a.length||"Search Results"!==t?Object(O.jsxs)("div",{className:"sidebar__chat--container",children:[Object(O.jsx)("h2",{children:t}),a.map((function(e){return Object(O.jsx)(D,{item:e},e.id)}))]}):Object(O.jsxs)("div",{className:"no-result",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{}),Object(O.jsx)("div",{className:"cancel-root",children:Object(O.jsx)(E.a,{})})]}),Object(O.jsxs)("h2",{children:["No ",t]})]}):Object(O.jsx)("div",{className:"loader__container sidebar__loader",children:Object(O.jsx)(L.a,{})})}a(95);var T=a(13),F=a(30);function P(e){var t,a=e.user,c=e.page,i=function(){var e=Object(F.a)(u.collection("rooms").orderBy("timestamp","desc")),t=Object(w.a)(e,1)[0];return null===t||void 0===t?void 0:t.docs.map((function(e){return Object(r.a)({id:e.id,userID:e.id},e.data())}))}(),s=function(e){var t=Object(F.a)(u.collection("users").orderBy("timestamp","desc")),a=Object(w.a)(t,1)[0],c=[];return e&&(null===a||void 0===a||a.docs.forEach((function(t){var a=t.id>e.uid?"".concat(t.id).concat(e.uid):"".concat(e.uid).concat(t.id);t.id!==e.uid&&c.push(Object(r.a)({id:a,userID:t.id},t.data()))}))),c}(a),o=function(e){var t=Object(F.a)(e?u.collection("users").doc(e.uid).collection("chats").orderBy("timestamp","desc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(a),d=n.a.useState([]),l=Object(w.a)(d,2),h=l[0],m=l[1],b=n.a.useState(1),f=Object(w.a)(b,2),v=f[0],L=f[1];function E(){return(E=Object(_.a)(x.a.mark((function e(t){var a,c,n,i,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.search.value,e.next=4,u.collection("users").where("name","==",a).get();case 4:return c=e.sent,e.next=7,u.collection("rooms").where("name","==",a).get();case 7:n=e.sent,i=c.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),s=n.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),o=[].concat(Object(g.a)(i),Object(g.a)(s)),L(4),m(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t=c.isMobile?M.c:function(e){return Object(O.jsx)("div",{className:"".concat(e.activeClass?"sidebar__menu--selected":""),onClick:e.onClick,children:e.children})},Object(O.jsxs)("div",{className:"sidebar",style:{minHeight:c.isMobile?c.height:"auto"},children:[Object(O.jsxs)("div",{className:"sidebar__header",children:[Object(O.jsxs)("div",{className:"sidebar__header--left",children:[Object(O.jsx)(N.a,{src:null===a||void 0===a?void 0:a.photoURL}),Object(O.jsx)("h4",{children:null===a||void 0===a?void 0:a.displayName})]}),Object(O.jsx)("div",{className:"sidebar__header--right",children:Object(O.jsx)(y.a,{onClick:function(){j.signOut()},children:Object(O.jsx)(C.a,{})})})]}),Object(O.jsx)("div",{className:"sidebar__search",children:Object(O.jsxs)("form",{onSubmit:function(e){return E.apply(this,arguments)},className:"sidebar__search--container",children:[Object(O.jsx)(k.a,{}),Object(O.jsx)("input",{placeholder:"Search for users or rooms",type:"text",id:"search"})]})}),Object(O.jsxs)("div",{className:"sidebar__menu",children:[Object(O.jsx)(t,{to:"/chats",activeClassName:"sidebar__menu--selected",onClick:function(){return L(1)},activeClass:1===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--home",children:[Object(O.jsx)(R.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(O.jsx)(t,{to:"/rooms",activeClassName:"sidebar__menu--selected",onClick:function(){return L(2)},activeClass:2===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--rooms",children:[Object(O.jsx)(I.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(O.jsx)(t,{to:"/users",activeClassName:"sidebar__menu--selected",onClick:function(){return L(3)},activeClass:3===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--users",children:[Object(O.jsx)(S.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})})]}),c.isMobile?Object(O.jsxs)(T.d,{children:[Object(O.jsx)(T.b,{path:"/chats",children:Object(O.jsx)(A,{title:"Chats",data:o})}),Object(O.jsx)(T.b,{path:"/rooms",children:Object(O.jsx)(A,{title:"Rooms",data:i})}),Object(O.jsx)(T.b,{path:"/users",children:Object(O.jsx)(A,{title:"Users",data:s})}),Object(O.jsx)(T.b,{path:"/search",children:Object(O.jsx)(A,{title:"Search Results",data:h})})]}):1===v?Object(O.jsx)(A,{title:"Chats",data:o}):2===v?Object(O.jsx)(A,{title:"Rooms",data:i}):3===v?Object(O.jsx)(A,{title:"Users",data:s}):4===v?Object(O.jsx)(A,{title:"Search Results",data:h}):null,Object(O.jsx)("div",{className:"sidebar__chat--addRoom",children:Object(O.jsx)(y.a,{onClick:function(){var e=prompt("Type the name of your room");e.trim()&&u.collection("rooms").add({name:e,timestamp:p()})},children:Object(O.jsx)(U.a,{})})})]})}a(96);var B=a(137),W=a(138);a(97);function H(e){var t=e.sender,a=e.audioUrl,c=e.id,i=e.setAudioId,s=e.audioId,r=n.a.useState(!1),o=Object(w.a)(r,2),d=o[0],l=o[1],u=n.a.useState(!1),j=Object(w.a)(u,2),h=j[0],m=j[1],b=n.a.useState(!1),p=Object(w.a)(b,2),f=p[0],v=p[1],x=n.a.useState(!1),g=Object(w.a)(x,2),_=g[0],N=g[1],y=n.a.useState(0),C=Object(w.a)(y,2),k=C[0],R=C[1],I=n.a.useState(""),S=Object(w.a)(I,2),U=S[0],E=S[1],M=n.a.useRef(""),D=n.a.useRef(new Audio(a)),A=n.a.useRef(),T=n.a.useRef("uploading"===a);function F(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)}function P(){var e=D.current,t=e.currentTime,a=e.duration;if("number"===typeof a){R(t*(100/a));var c=F(t);E(c)}}return n.a.useEffect((function(){T.current&&"uploading"!==a?(D.current=new Audio(a),D.current.load(),v(!0)):!1===T.current&&v(!0)}),[a]),n.a.useEffect((function(){var e;f&&(e=D.current,new Promise((function(t){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,t(e.duration)}}}))).then((function(){N(!0)}))}),[f]),n.a.useEffect((function(){_&&(D.current.addEventListener("canplaythrough",(function(){if(!M.current){m(!0);var e=F(D.current.duration);M.current=e,E(M.current)}})),D.current.addEventListener("ended",(function(){clearInterval(A.current),E(M.current),R(0),l(!1)})))}),[_]),n.a.useEffect((function(){s!==c&&(D.current.pause(),l(!1))}),[s,c]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"audioplayer ".concat(t?"":"audioplayer__alt"),children:[h?d?Object(O.jsx)(B.a,{onClick:function(){D.current.pause(),clearInterval(A.current),l(!1),E(M.current)},className:"pause"}):d?null:Object(O.jsx)(W.a,{onClick:function(){l(!0),D.current.play(),s!==c&&i(c),A.current=setInterval(P,100)}}):Object(O.jsx)(L.a,{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{width:"".concat(k,"%")},className:"audioplayer__slider--played"}),Object(O.jsx)("input",{type:"range",min:"1",max:"100",value:k,onChange:function(e){var t=e.target.value,a=D.current.duration;if(h){var c=a*(t/100);D.current.currentTime=c,R(t)}},className:"audioplayer__slider"})]})]}),Object(O.jsx)("span",{className:"chat__timestamp audioplayer__time",children:U})]})}function q(e){var t=e.messages,a=e.user,c=e.roomId,n=e.audioId,i=e.setAudioId;return t?t.map((function(e){var t=e.uid===a.uid;return Object(O.jsxs)("div",{className:"chat__message ".concat(t?"chat__message--sender":""),children:[Object(O.jsx)("span",{className:"chat__name",children:e.name}),"uploading"===e.imageUrl?Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("div",{className:"image__container--loader",children:Object(O.jsx)(L.a,{style:{width:40,height:40}})})}):e.imageUrl?Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("img",{src:e.imageUrl,alt:e.name})}):null,e.audioName?Object(O.jsx)(H,{sender:t,roomId:c,id:e.id,audioUrl:e.audioUrl,audioId:n,setAudioId:i}):Object(O.jsx)("span",{className:"chat__message--message",children:e.message}),Object(O.jsx)("span",{className:"chat__timestamp",children:e.time})]},e.id)})):null}var z=a(139),G=a(140),K=a(141),J=a(142),V=a(148);a(98);function X(){return new Promise((function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){var a=new MediaRecorder(t),c=[];a.addEventListener("dataavailable",(function(e){c.push(e.data)})),e({start:function(){a.start()},stop:function(){return new Promise((function(e){a.addEventListener("stop",(function(){var t=Object(V.a)(),a=new File(c,t,{type:"audio/mpeg"}),n=URL.createObjectURL(a),i=new Audio(n);e({audioFile:a,audioUrl:n,play:function(){i.play()},audioName:t})})),a.stop()}))}})}))}))}function Z(e){var t=e.input,a=e.onChange,c=e.sendMessage,i=e.image,s=e.user,r=e.room,o=e.roomId,d=e.setAudioId,l=n.a.useState(!1),j=Object(w.a)(l,2),h=j[0],m=j[1],f=n.a.useState("00:00"),v=Object(w.a)(f,2),g=v[0],N=v[1],y=n.a.useRef(),C=n.a.useRef(),k=n.a.useRef(),R=n.a.useRef();function I(){return(I=Object(_.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,X();case 3:k.current=e.sent,R.current.focus(),R.current.style.width="calc(100% - 56px)",m(!0),d("");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return String(e).length<2?"0".concat(e):e}function U(){return L.apply(this,arguments)}function L(){return(L=Object(_.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.current.focus(),clearInterval(y.current),t=k.current.stop(),C.current.style.opacity="0",m(!1),R.current.style.width="calc(100% - 112px)",N("00:00"),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(_.a)(x.a.mark((function e(){var t,a,c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.next=5,t;case 5:a=e.sent,c=a.audioFile,n=a.audioName,M(c,n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(_.a)(x.a.mark((function e(t,a){var c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.collection("users").doc(s.uid).collection("chats").doc(o).set({name:r.name,photoURL:r.photoURL||null,timestamp:p()}),e.next=3,u.collection("rooms").doc(o).collection("messages").add({name:s.displayName,uid:s.uid,timestamp:p(),time:(new Date).toUTCString(),audioUrl:"uploading",audioName:a});case 3:return c=e.sent,e.next=6,b.child(a).put(t);case 6:return e.next=8,b.child(a).getDownloadURL();case 8:n=e.sent,u.collection("rooms").doc(o).collection("messages").doc(c.id).update({audioUrl:n});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.a.useEffect((function(){h&&(C.current.style.opacity="1",function(){var e=Date.now();function t(){var t=Date.now()-e,a=Math.floor(t/1e3),c=S(parseInt(a/60)),n=S(parseInt(a%60)),i="".concat(c,":").concat(n);N(i)}y.current=setInterval(t,100)}(),k.current.start())}),[h]);var A=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(z.a,{style:{width:20,height:20,color:"white"}}),Object(O.jsx)(G.a,{style:{width:24,height:24,color:"white"}})]}),T=navigator.mediaDevices.getUserMedia&&window.MediaRecorder;return Object(O.jsxs)("div",{className:"chat__footer",children:[Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{ref:R,value:t,onChange:h?null:a,onKeyPress:h?function(){return!1}:null,placeholder:"Type a message"}),T?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{htmlFor:"capture",className:"send__btn",children:A}),Object(O.jsx)("input",{style:{display:"none"},type:"file",id:"capture",accept:"audio/*",capture:!0,onChange:function(e){var t=e.target.files[0];t&&(d(""),M(t,Object(V.a)()))}})]}):Object(O.jsx)("button",{onClick:t.trim()||""===t&&i?c:function(e){return I.apply(this,arguments)},type:"submit",className:"send__btn",children:A})]}),h&&Object(O.jsxs)("div",{ref:C,className:"record",children:[Object(O.jsx)(K.a,{style:{width:30,height:30,color:"#f20519"},onClick:U}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"record__redcircle"}),Object(O.jsx)("div",{className:"record__duration",children:g})]}),Object(O.jsx)(J.a,{style:{width:30,height:30,color:"#41bf49"},onClick:function(){return E.apply(this,arguments)}})]})]})}var Q=a(143);a(99);function Y(e){var t=e.src,a=e.closePreview;return t?Object(O.jsxs)("div",{className:"mediaPreview",children:[Object(O.jsx)(Q.a,{onClick:a}),Object(O.jsx)("img",{src:t,alt:"Preview"})]}):null}var $=a(68),ee=a.n($),te=a(147),ae=a(149),ce=a(144),ne=a(145),ie=a(146);function se(e){var t=e.user,a=e.page,c=n.a.useState(null),i=Object(w.a)(c,2),s=i[0],o=i[1],d=n.a.useState(""),l=Object(w.a)(d,2),j=l[0],h=l[1],f=n.a.useState(!1),v=Object(w.a)(f,2),C=v[0],k=v[1],R=n.a.useState(null),I=Object(w.a)(R,2),S=I[0],U=I[1],E=n.a.useState(""),M=Object(w.a)(E,2),D=M[0],A=M[1],P=n.a.useState(""),B=Object(w.a)(P,2),W=B[0],H=B[1],z=Object(T.h)().roomId,G=Object(T.g)(),K=function(e){var t=Object(F.a)(e?u.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc"):null),a=Object(w.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(z),J=function(e,t){var a=e.includes(t),c=a?null===e||void 0===e?void 0:e.replace(t,""):e,n=Object(F.b)(u.collection(a?"users":"rooms").doc(c)),i=Object(w.a)(n,1)[0];return i?Object(r.a)({id:i.id,photoURL:i.photoURL||"https://avatars.dicebear.com/api/human/".concat(i.id,".svg")},i.data()):null}(z,t.uid);function X(){return(X=Object(_.a)(x.a.mark((function e(a){var c,n,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(j.trim()||""===j&&s)){e.next=11;break}return h(""),s&&Q(),c=Object(V.a)(),n=s?{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString(),imageUrl:"uploading",imageName:c}:{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString()},u.collection("users").doc(t.uid).collection("chats").doc(z).set({name:J.name,photoURL:J.photoURL||null,timestamp:p()}),e.next=9,u.collection("rooms").doc(z).collection("messages").add(n);case 9:i=e.sent,s&&new ee.a(s,{quality:.8,maxWidth:1920,success:function(e){return Object(_.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(""),o(null),t.next=4,m.child(c).put(e);case 4:return t.next=6,m.child(c).getDownloadURL();case 6:a=t.sent,u.collection("rooms").doc(z).collection("messages").doc(i.id).update({imageUrl:a});case 8:case"end":return t.stop()}}),t)})))()}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){A(""),o(null)}function $(){return($=Object(_.a)(x.a.mark((function e(){var c,n,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),k(!0),e.prev=2,c=u.collection("rooms").doc(z),e.next=6,c.collection("messages").get();case 6:return n=e.sent,i=[],s=[],n.docs.forEach((function(e){e.data().audioName?i.push(e.data().audioName):e.data().imageName&&s.push(e.data().imageName)})),e.next=12,Promise.all([].concat(Object(g.a)(n.docs.map((function(e){return e.ref.delete()}))),Object(g.a)(s.map((function(e){return m.child(e).delete()}))),Object(g.a)(i.map((function(e){return b.child(e).delete()}))),[u.collection("users").doc(t.uid).collection("chats").doc(z).delete(),c.delete()]));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error deleting room: ",e.t0.message);case 17:return e.prev=17,k(!1),a.isMobile?G.goBack():G.replace("/chats"),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,21]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsx)("div",{style:{height:a.height},className:"chat__background"}),Object(O.jsxs)("div",{className:"chat__header",children:[a.isMobile&&Object(O.jsx)(y.a,{onClick:G.goBack,children:Object(O.jsx)(ce.a,{})}),Object(O.jsx)("div",{className:"avatar__container",children:Object(O.jsx)(N.a,{src:null===J||void 0===J?void 0:J.photoURL})}),Object(O.jsx)("div",{className:"chat__header--info",children:Object(O.jsx)("h3",{style:{width:a.isMobile&&a.width-165},children:null===J||void 0===J?void 0:J.name})}),Object(O.jsxs)("div",{className:"chat__header--right",children:[Object(O.jsx)("input",{id:"image",style:{display:"none"},accept:"image/*",type:"file",onChange:function(e){var t=e.target.files[0];if(t){o(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){A(a.result)}}}}),Object(O.jsx)(y.a,{children:Object(O.jsx)("label",{style:{cursor:"pointer",height:24},htmlFor:"image",children:Object(O.jsx)(ne.a,{})})}),Object(O.jsx)(y.a,{onClick:function(e){return U(e.currentTarget)},children:Object(O.jsx)(ie.a,{})}),Object(O.jsx)(te.a,{id:"menu",anchorEl:S,open:Boolean(S),onClose:function(){return U(null)},keepMounted:!0,children:Object(O.jsx)(ae.a,{onClick:function(){return $.apply(this,arguments)},children:"Delete Room"})})]})]}),Object(O.jsx)("div",{className:"chat__body--container",children:Object(O.jsx)("div",{className:"chat__body",style:{height:a.height-68},children:Object(O.jsx)(q,{messages:K,user:t,roomId:z,audioId:W,setAudioId:H})})}),Object(O.jsx)(Y,{src:D,closePreview:Q}),Object(O.jsx)(Z,{input:j,onChange:function(e){h(e.target.value)},sendMessage:function(e){return X.apply(this,arguments)},image:s,user:t,room:J,roomId:z,setAudioId:H}),C&&Object(O.jsx)("div",{className:"chat__deleting",children:Object(O.jsx)(L.a,{})})]})}var re=a(69);function oe(){var e=function(){var e=n.a.useState({width:void 0,height:void 0}),t=Object(w.a)(e,2),a=t[0],c=t[1];return n.a.useEffect((function(){function e(){if(window.innerHeight>768&&window.innerWidth>1366){var e=window.innerHeight/window.innerWidth,t=768/1366;c(t<e?{width:1366,height:window.innerHeight*(1366/window.innerWidth),transform:"scale(".concat(window.innerWidth/1366,")")}:t>e?{width:window.innerWidth*(768/window.innerHeight),height:768,transform:"scale(".concat(window.innerHeight/768,")")}:{width:1366,height:768,transform:"scale(".concat(window.innerHeight/768,")")})}c({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=760,transform:"scale(1)"})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=function(){var e=Object(re.a)(j),t=Object(w.a)(e,1)[0];return n.a.useEffect((function(){if(t){var e=u.collection("users").doc(t.uid);e.get().then((function(a){a.exists||e.set({name:t.displayName,photoURL:t.photoURL,timestamp:p()})}))}}),[t]),t}();return t?Object(O.jsxs)("div",{className:"app",style:Object(r.a)({},e),children:[Object(O.jsx)(T.a,{to:e.isMobile?"/chat":"/"}),Object(O.jsxs)("div",{className:"app__body",children:[Object(O.jsx)(P,{user:t,page:e}),Object(O.jsx)(T.b,{path:"/room/:roomId",children:Object(O.jsx)(se,{user:t,page:e})})]})]}):Object(O.jsx)(f,{})}a(101);s.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(M.a,{children:Object(O.jsx)(oe,{})})}),document.getElementById("root"))},78:function(e,t,a){},79:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.24ff547a.chunk.js.map